# [Лабораторная работа №1](https://github.com/KiVorobev/Information-systems-and-databases/tree/main/Lab1)

### Вариант 312439

Для выполнения лабораторной работы №1 необходимо:

1. На основе предложенной предметной области (текста) составить ее описание. Из полученного описания выделить сущности, их атрибуты и связи.
2. Составить инфологическую модель.
3. Составить даталогическую модель. При описании типов данных для атрибутов должны использоваться типы из СУБД PostgreSQL.
4. Реализовать даталогическую модель в PostgreSQL. При описании и реализации даталогической модели должны учитываться ограничения целостности, которые характерны для полученной предметной области.
5. Заполнить созданные таблицы тестовыми данными.

Для создания объектов базы данных у каждого студента есть своя схема. Название схемы соответствует имени пользователя в базе studs (sXXXXXX). Команда для подключения к базе studs:

psql -h pg -d studs

Каждый студент должен использовать свою схему при работе над лабораторной работой №1 (а также в рамках выполнения 2, 3 и 4 этапа курсовой работы).

Отчёт по лабораторной работе должен содержать:

1. Текст задания.
2. Описание предметной области.
3. Список сущностей и их классификацию (стержневая, ассоциация, характеристика).
4. Инфологическая модель (ER-диаграмма в расширенном виде - с атрибутами, ключами...).
5. Даталогическая модель (должна содержать типы атрибутов, вспомогательные таблицы для отображения связей "многие-ко-многим").
6. Реализация даталогической модели на SQL.
7. Выводы по работе.

__Описание предметной области, по которой должна быть построена доменная модель:__
```
Шалмирейн лежит вон в том направлении, -- уверенно проговорил он, Олвин не стал спрашивать, откуда это ему известно. Он принял как должное, что Хилвар в течение некоторого времени поддерживал контакт с кем-то из друзей за много миль от них, и ему при полном молчании передали всю необходимую информацию.
```

# [Лабораторная работа №2](https://github.com/KiVorobev/Information-systems-and-databases/tree/main/Lab2)

### Вариант 312439

Для отношений, полученных при построении предметной области из
лабораторной работы №1, выполните следующие действия:
- опишите функциональные зависимости для отношений полученной
схемы (минимальное множество);
- приведите отношения в 3NF (как минимум). Постройте схему на основеNF (как минимум). Постройте схему на основе
полученных отношений;
- опишите изменения в функциональных зависимостях, произошедшие
после преобразования в 3NF (как минимум). Постройте схему на основеNF;
- преобразуйте отношения в BCNF. Докажите, что полученные
отношения представлены в BCNF;
- какие денормализации будут полезны для вашей схемы? Приведите
подробное описание;

# [Лабораторная работа №3](https://github.com/KiVorobev/Information-systems-and-databases/tree/main/Lab3)

### Вариант 312442

По варианту, выданному преподавателем, составить и выполнить запросы к базе данных "Учебный процесс".

Команда для подключения к базе данных ucheb:

psql -h pg -d ucheb

Составить запросы на языке SQL (пункты 1-7).

1. Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:
Н_ТИПЫ_ВЕДОМОСТЕЙ, Н_ВЕДОМОСТИ.
Вывести атрибуты: Н_ТИПЫ_ВЕДОМОСТЕЙ.ИД, Н_ВЕДОМОСТИ.ЧЛВК_ИД.
Фильтры (AND):
   
   a) Н_ТИПЫ_ВЕДОМОСТЕЙ.ИД < 1.

   b) Н_ВЕДОМОСТИ.ЧЛВК_ИД = 163249.
   
   Вид соединения: INNER JOIN.
2. Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:
Таблицы: Н_ЛЮДИ, Н_ВЕДОМОСТИ, Н_СЕССИЯ.
Вывести атрибуты: Н_ЛЮДИ.ИМЯ, Н_ВЕДОМОСТИ.ДАТА, Н_СЕССИЯ.УЧГОД.
Фильтры (AND):

   a) Н_ЛЮДИ.ФАМИЛИЯ > Ёлкин.

   b) Н_ВЕДОМОСТИ.ДАТА < 2010-06-18.

   c) Н_СЕССИЯ.ИД > 14.
Вид соединения: INNER JOIN.
3. Вывести число имен без учета повторений.
При составлении запроса нельзя использовать DISTINCT.
4. Выдать различные имена людей и число людей с каждой из этих имен, ограничив список именами, встречающимися более 50 раз на ФКТИУ. Для реализации использовать соединение таблиц.
5. Выведите таблицу со средним возрастом студентов во всех группах (Группа, Средний возраст), где средний возраст меньше максимального возраста в группе 1101.
6. Получить список студентов, зачисленных после первого сентября 2012 года на первый курс очной или заочной формы обучения (специальность: Программная инженерия). В результат включить:
номер группы;
номер, фамилию, имя и отчество студента;
номер и состояние пункта приказа;
Для реализации использовать подзапрос с IN.
7. Сформировать запрос для получения числа в СПбГУ ИТМО отличников.

# [Лабораторная работа №4](https://github.com/KiVorobev/Information-systems-and-databases/tree/main/Lab4)

### Вариант 312446

По варианту, выданному преподавателем, составить и выполнить запросы к базе данных "Учебный процесс".

Команда для подключения к базе данных ucheb:

psql -h pg -d ucheb

Составить запросы на языке SQL (пункты 1-2).

Для каждого запроса предложить индексы, добавление которых уменьшит время выполнения запроса (указать таблицы/атрибуты, для которых нужно добавить индексы, написать тип индекса; объяснить, почему добавление индекса будет полезным для данного запроса).

Для запросов 1-2 необходимо составить возможные планы выполнения запросов. Планы составляются на основании предположения, что в таблицах отсутствуют индексы. Из составленных планов необходимо выбрать оптимальный и объяснить свой выбор.
Изменятся ли планы при добавлении индекса и как?

Для запросов 1-2 необходимо добавить в отчет вывод команды EXPLAIN ANALYZE [запрос]

Подробные ответы на все вышеперечисленные вопросы должны присутствовать в отчете (планы выполнения запросов должны быть нарисованы, ответы на вопросы - представлены в текстовом виде).

1. Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:
Н_ТИПЫ_ВЕДОМОСТЕЙ, Н_ВЕДОМОСТИ.
Вывести атрибуты: Н_ТИПЫ_ВЕДОМОСТЕЙ.ИД, Н_ВЕДОМОСТИ.ЧЛВК_ИД.
Фильтры (AND):

   a) Н_ТИПЫ_ВЕДОМОСТЕЙ.НАИМЕНОВАНИЕ > Экзаменационный лист.

   b) Н_ВЕДОМОСТИ.ИД > 1490007.
Вид соединения: RIGHT JOIN.
2. Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:
Таблицы: Н_ЛЮДИ, Н_ВЕДОМОСТИ, Н_СЕССИЯ.
Вывести атрибуты: Н_ЛЮДИ.ОТЧЕСТВО, Н_ВЕДОМОСТИ.ЧЛВК_ИД, Н_СЕССИЯ.ИД.
Фильтры (AND):

   a) Н_ЛЮДИ.ИМЯ = Роман.

   b) Н_ВЕДОМОСТИ.ИД < 1457443.

   c) Н_СЕССИЯ.ИД > 27640.
Вид соединения: RIGHT JOIN.